<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container-fluid">
      <a class="navbar-brand" routerLink="/home">LoanHub</a>
      <div class="navbar-collapse collapse justify-content-end">
        <div class="navbar-text me-3">
          <i class="fas fa-user"></i> 
          Welcome, {{ userName }}!
        </div>
        <button class="btn btn-outline-light" (click)="logout()">Logout</button>
      </div>
    </div>
  </nav>
  
  <div class="add-eligibility-container">
    <h2>Add Eligibility Criteria</h2>
    <form [formGroup]="eligibilityForm" (ngSubmit)="onSubmit()">
      <div class="form-group">
        <label for="minimumIncome">Minimum Income</label>
        <input 
          type="number" 
          id="minimumIncome" 
          formControlName="minimumIncome" 
          placeholder="Enter Minimum Income" 
          [required]="true">
        <div *ngIf="eligibilityForm.get('minimumIncome')?.invalid && (eligibilityForm.get('minimumIncome')?.touched || eligibilityForm.get('minimumIncome')?.dirty)" class="text-danger">
          <small *ngIf="eligibilityForm.get('minimumIncome')?.errors?.['required']">Minimum Income is required.</small>
          <small *ngIf="eligibilityForm.get('minimumIncome')?.errors?.['min']">Minimum Income must be greater than or equal to 0.</small>
        </div>
      </div>
  
      <div class="form-group">
        <label for="minimumAge">Minimum Age</label>
        <input 
          type="number" 
          id="minimumAge" 
          formControlName="minimumAge" 
          placeholder="Enter Minimum Age" 
          [required]="true">
        <div *ngIf="eligibilityForm.get('minimumAge')?.invalid && (eligibilityForm.get('minimumAge')?.touched || eligibilityForm.get('minimumAge')?.dirty)" class="text-danger">
          <small *ngIf="eligibilityForm.get('minimumAge')?.errors?.['required']">Minimum Age is required.</small>
          <small *ngIf="eligibilityForm.get('minimumAge')?.errors?.['min']">Minimum Age must be at least 18.</small>
        </div>
      </div>
  
      <div class="form-group">
        <label for="maximumAge">Maximum Age</label>
        <input 
          type="number" 
          id="maximumAge" 
          formControlName="maximumAge" 
          placeholder="Enter Maximum Age" 
          [required]="true">
        <div *ngIf="eligibilityForm.get('maximumAge')?.invalid && (eligibilityForm.get('maximumAge')?.touched || eligibilityForm.get('maximumAge')?.dirty)" class="text-danger">
          <small *ngIf="eligibilityForm.get('maximumAge')?.errors?.['required']">Maximum Age is required.</small>
          <small *ngIf="eligibilityForm.get('maximumAge')?.errors?.['min']">Maximum Age must be at least 18.</small>
        </div>
      </div>
  
      <div class="form-group">
        <label for="minimumCreditScore">Minimum Credit Score</label>
        <input 
          type="number" 
          id="minimumCreditScore" 
          formControlName="minimumCreditScore" 
          placeholder="Enter Minimum Credit Score" 
          [required]="true">
        <div *ngIf="eligibilityForm.get('minimumCreditScore')?.invalid && (eligibilityForm.get('minimumCreditScore')?.touched || eligibilityForm.get('minimumCreditScore')?.dirty)" class="text-danger">
          <small *ngIf="eligibilityForm.get('minimumCreditScore')?.errors?.['required']">Minimum Credit Score is required.</small>
          <small *ngIf="eligibilityForm.get('minimumCreditScore')?.errors?.['min']">Minimum Credit Score must be at least 300.</small>
          <small *ngIf="eligibilityForm.get('minimumCreditScore')?.errors?.['max']">Minimum Credit Score cannot exceed 850.</small>
        </div>
      </div>
  
      <div class="form-group">
        <label for="employmentYears">Employment Years</label>
        <input 
          type="number" 
          id="employmentYears" 
          formControlName="employmentYears" 
          placeholder="Enter Employment Years" 
          [required]="true">
        <div *ngIf="eligibilityForm.get('employmentYears')?.invalid && (eligibilityForm.get('employmentYears')?.touched || eligibilityForm.get('employmentYears')?.dirty)" class="text-danger">
          <small *ngIf="eligibilityForm.get('employmentYears')?.errors?.['required']">Employment Years is required.</small>
          <small *ngIf="eligibilityForm.get('employmentYears')?.errors?.['min']">Employment Years must be at least 0.</small>
        </div>
      </div>
  
      <div class="form-group">
        <label for="documents">Documents</label>
        <input 
          type="text" 
          id="documents" 
          formControlName="documents" 
          placeholder="List Required Documents" 
          [required]="true">
        <div *ngIf="eligibilityForm.get('documents')?.invalid && (eligibilityForm.get('documents')?.touched || eligibilityForm.get('documents')?.dirty)" class="text-danger">
          <small *ngIf="eligibilityForm.get('documents')?.errors?.['required']">Documents are required.</small>
          <small *ngIf="eligibilityForm.get('documents')?.errors?.['minlength']">At least one document is required.</small>
        </div>
      </div>
  
      <button type="submit" class="btn-submit" [disabled]="eligibilityForm.invalid">Submit</button>
  
      <div class="text-center mt-4">
        <button routerLink="/admin" class="btn btn-secondary">Back to Dashboard</button>
      </div>
      
      <div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>
      <div *ngIf="successMessage" class="success-message">{{ successMessage }}</div>
    </form>
  </div>
  