<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <div class="container-fluid">
    <a class="navbar-brand" routerLink="/home">LoanHub</a>
    <div class="navbar-collapse collapse justify-content-end">
      <div class="navbar-text me-3">
        <i class="fas fa-user"></i> 
        Welcome, {{ userName }}!
      </div>
      <button class="btn btn-outline-light" (click)="logout()">Logout</button>
    </div>
  </div>
</nav>
<div class="container mt-5">
  <div class="row">
    <div class="col-12 text-center">
      <h2>Available Loan Schemes</h2>
    </div>
  </div>

  <!-- Search Box -->
  <div class="input-group mb-3">
    <span class="input-group-text" id="basic-addon1">
      <i class="fas fa-search"></i> <!-- Font Awesome search icon -->
    </span>
    <input
      type="text"
      class="form-control"
      placeholder="Search..."
      [(ngModel)]="searchTerm" 
      aria-label="Search"
      aria-describedby="basic-addon1"
    />
  </div>

  <div class="row mt-4">
    <div class="col-12">
      <table *ngIf="filteredLoanSchemes.length > 0" class="table table-striped table-hover table-bordered">
        <thead class="thead-dark">
          <tr>
            <th scope="col">Loan Scheme Name</th>
            <th scope="col">Loan Type</th>
            <th scope="col">Maximum Amount</th>
            <th scope="col">Interest Rate</th>
            <th scope="col">Tenure (Months)</th>
            <th scope="col">Action</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let scheme of filteredLoanSchemes.slice((page - 1) * pageSize, page * pageSize)">
            <td>{{ scheme.loanSchemeName }}</td>
            <td>{{ scheme.loanType }}</td>
            <td>{{ scheme.maxAmount | currency }}</td>
            <td>{{ scheme.interestRate }}%</td>
            <td>{{ scheme.tenure }}</td>
            <td>
              <button 
                class="btn btn-primary" 
                (click)="applyForLoan(scheme.loanSchemeId)">
                Apply
              </button>
            </td>
          </tr>
        </tbody>
      </table>

      <div *ngIf="filteredLoanSchemes.length === 0" class="alert alert-info text-center">
        No loan schemes available at the moment.
      </div>

      <!-- Pagination Controls -->
      <div class="pagination mt-4">
        <button 
          class="btn btn-secondary" 
          [disabled]="page === 1" 
          (click)="previousPage()">
          <i class="fas fa-arrow-left"></i> 
        </button>
        <span class="mx-2">Page {{ page }} of {{ totalPages }}</span>
        <button 
          class="btn btn-secondary" 
          [disabled]="page === totalPages" 
          (click)="nextPage()">
          <i class="fas fa-arrow-right"></i>
        </button>
      </div>

      <!-- Back to Dashboard Button -->
      <div class="text-center mt-4">
        <button routerLink="/dashboard" class="btn btn-secondary">Back to Dashboard</button>
      </div>
    </div>
  </div>
</div>
